---
layout:     post
title:      react与redux学习笔记
date:       2019-05-10 12:16:00
summary:    react前端学习
categories: jekyll pixyll
---

## React组件的数据
> React组件的数据分为两种，prop和state，prop和state的改变引发组件的重新渲染，prop是组件的对外接口，state是组件的内部状态。

### example
构造一个应用包含两个组件，controlPanel组件以及Counter组件，其中controlPanel组件是父组件，包含若干的Counter组件，其示意图如下所示：
![](/images/react_counter.png)

如图所示，我们可以看到三个Counter组件有了不同的初始值，从中我们可以体会属性与状态在react组件中的作用。

#### React的prop
prop是react中外部传递给组件的数据(属性类似于HTML元素的属性，但是支持的类型却丰富的多)，一个react组件定义prop就定义了自己的对外公共接口。

当外部世界需要传递数据给React组件，最直接的方式是通过prop；同理，也可以采用prop反馈数据给外界，对于Counter组件，父组件ControlPanel就是外部世界，ControlPanel是如何用prop传递信息给Counter的，代码如下：

{% highlight js %}
import React, { Component } from 'react';
import Counter from './Counter.js';
const style = {
  margin: '20px'
};

class ControlPanel extends Component {
  render() {
    console.log('enter ControlPanel render');
    return (
      <div style={style}>
        <Counter caption="First"/>
        <Counter caption="Second" initValue={10} />
        <Counter caption="Third" initValue={20} />
        <button onClick={ () => this.forceUpdate() }>
          Click me to re-render!
        </button>
      </div>
    );
  }
}
export default ControlPanel;
{% endhighlight %}
